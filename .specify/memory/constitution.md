<!--
SYNC IMPACT REPORT
==================
Version Change: 0.0.0 → 1.0.0
Change Type: Initial Constitution (MAJOR)
Rationale: First constitution for existing legacy website migration project

Modified Principles: N/A (initial creation)
Added Sections:
  - Core Principles (7 principles)
  - Migration Constraints
  - Development Workflow
  - Governance

Removed Sections: N/A

Templates Requiring Updates:
  ✅ plan-template.md - Aligned (Constitution Check section compatible)
  ✅ spec-template.md - Aligned (user scenarios support UI preservation requirement)
  ✅ tasks-template.md - Aligned (phase-based approach supports incremental migration)

Follow-up TODOs: None
-->

# Parsons Ham Radio Club Website Migration Constitution

## Core Principles

### I. Preserve User Experience (NON-NEGOTIABLE)

The migrated website MUST maintain identical visual appearance and functionality from the end-user perspective. All UI elements, navigation, content layout, images, galleries, embedded media (YouTube, TuneIn, Google Calendar), and interactive features MUST work exactly as they did before migration.

**Rationale**: The website serves an active ham radio club with established members who are familiar with the current interface. Any UI changes would cause confusion and resistance. The club leadership is sensitive to visual changes and has not requested any redesign. Backend technology changes are acceptable and necessary, but must be transparent to users.

**Testing Requirement**: Before-and-after visual regression testing required. All 19 pages must be validated for pixel-perfect rendering and functional equivalence.

### II. Maintainability First

The migrated website MUST be easily maintainable by a non-professional developer (the site owner, Bob Hoffman, who originally hand-coded the site) using modern tools: VS Code editor, Git version control, and free AI assistants (Gemini/Claude). The codebase MUST use standard HTML/CSS/JavaScript without proprietary dependencies.

**Rationale**: Bob currently maintains the site but wants to move away from self-hosting on a Raspberry Pi. The solution must not increase maintenance burden. He is comfortable with HTML/code but needs a modern workflow without server administration overhead.

**Requirements**:
- No build tools or compilation steps required
- Direct HTML editing workflow
- GitHub Pages compatible (static hosting)
- Free tooling only (no paid services for core functionality)
- Clear documentation for common tasks

### III. Static-First Architecture

All features MUST be implemented using static HTML/CSS/JavaScript or free third-party services that integrate via client-side code. Server-side PHP dependencies MUST be eliminated or replaced with modern static/serverless alternatives.

**Rationale**: GitHub Pages only supports static hosting. The current site's PHP usage is minimal (contact form, search, RSS generation). Eliminating PHP removes server maintenance while enabling free hosting with better uptime than home Raspberry Pi.

**Approved Replacements**:
- Contact forms: Formspree (free tier sufficient)
- Search: Remove initially, or client-side Lunr.js later
- RSS feeds: Static XML files
- Admin panel: Removed (not needed for static site)

### IV. Zero Cost Operation

The hosting and core operational costs MUST be $0/year. Optional enhancements (custom domain) may have minimal cost ($12/year) but are not required for initial launch.

**Rationale**: Current setup has low electricity costs but time cost for maintenance. New setup eliminates server hardware, power consumption, and home internet dependency while providing professional hosting quality.

**Free Tier Services**:
- GitHub Pages: Hosting (included with GitHub account)
- Formspree: Contact form (50 submissions/month free)
- All JavaScript libraries: Self-hosted (no CDN costs)
- SSL/HTTPS: Automatic via GitHub Pages

### V. Minimize File Changes

Migration MUST preserve as much of the existing codebase as possible. Changes MUST be limited to:
1. Removing PHP files and admin panel
2. Replacing contact form action URL
3. Updating RSS feed references (.php → .xml)
4. Removing or replacing search functionality
5. Creating .gitignore for Git workflow

**Rationale**: The site was generated by WebSite X5 Evolution (commercial WYSIWYG tool) in 2019. The generated HTML/CSS/JS is clean and standards-compliant. Rewriting would introduce risk and testing burden. The 19 HTML pages (~5,000 lines) work perfectly and should be touched minimally.

**Forbidden**: Restructuring HTML, rewriting CSS, replacing JavaScript libraries, changing image formats, altering navigation structure.

### VI. Incremental Deployment

Migration MUST be testable locally and deployable incrementally. Each migration phase MUST be independently verifiable before proceeding to next phase.

**Rationale**: This is a live website serving an active club. Downtime must be minimized. The site owner needs confidence each step works before committing to next step.

**Phases**:
1. Local preparation: Clean files, test locally
2. GitHub setup: Repository creation, initial upload
3. Feature replacement: Contact form, RSS updates
4. Final validation: All pages/features tested
5. Owner training: VS Code + Git workflow

### VII. Documentation & Knowledge Transfer

All migration steps, replacement decisions, and maintenance procedures MUST be documented for the non-technical site owner. Training materials MUST enable independent site updates using VS Code, Git, and AI assistants.

**Rationale**: The goal is to enable Bob to maintain and improve the site independently after migration. He has coding skills but needs modern workflow training. Documentation must bridge the gap between FTP/Raspberry Pi workflow and Git/GitHub workflow.

**Required Documentation**:
- Migration decisions (why Formspree, why remove search, etc.)
- Common maintenance tasks (update text, add images, update officers)
- VS Code + Git workflow guide
- Using free Gemini for coding assistance
- Troubleshooting common issues

## Migration Constraints

### Technology Constraints

**MUST Keep**:
- All 19 HTML files (generated by WebSite X5)
- All CSS files (global + page-specific in /pcss/)
- All JavaScript files (jQuery, x5engine.js, plugins)
- All images (174 files, ~17MB - may optimize but keep originals)
- All third-party embeds (YouTube, TuneIn, Google Calendar)
- Header slideshow (10 ham shack images)
- Image galleries (Justified Gallery, Jssor Slider)

**MUST Remove**:
- /admin/ directory (856KB, 70+ PHP files)
- PHP engine files in /res/ (x5engine.php, PHPMailer, etc.)
- /imemail/ directory (contact form processor)
- /captcha/ directory (PHP-based)
- imsearch.php (PHP search)

**MUST Replace**:
- Contact form backend: Formspree integration
- RSS feed generation: Static XML file
- Search functionality: Remove or client-side Lunr.js

### Content Constraints

**Site Structure (19 pages)**:
- Home Page (index.html) - Welcome, intro slideshow
- Events (events.html) - Google Calendar embed
- Learning Section (6 pages):
  - Digital Communications
  - Morse Code
  - UHF/VHF
  - HF
  - Summits on the Air
  - Solar Propagation
- Local Nets (local-nets.html)
- Exams (exams.html)
- Podcasts Section (4 pages):
  - ARRL News
  - Ham Nation
  - This Week in Amateur Radio
  - Ham Radio 360
- Community Section (2 pages):
  - Community Service
  - Interview on Community Service
- Contact (contact.html) - Contact form
- About Us (about-us.html)

**External Dependencies (Must Continue Working)**:
- Google Calendar: `3f0fiqgp4bdhs0ms88lq63u11s@group.calendar.google.com`
- YouTube embeds: 5 educational videos
- TuneIn embeds: 4 podcast players
- Email recipient: `ae0aq@gmail.com` (contact form destination)

### Performance Constraints

- Page load time: MUST NOT regress from current performance
- Image optimization: Optional but encouraged (17MB → ~10MB)
- GitHub Pages limits: 1GB total repo size (current ~17MB is safe)
- No single file >100MB (largest current file is well under this)

## Development Workflow

### Local Development

1. Clone repository from GitHub
2. Open project in VS Code
3. Use Live Server extension for local preview
4. Edit HTML/CSS/JS files directly
5. Test changes in browser
6. Commit and push to GitHub

### Deployment Process

1. Push changes to `main` branch on GitHub
2. GitHub Pages automatically rebuilds (1-2 minutes)
3. Verify changes at `https://USERNAME.github.io/parsonshamclub/`
4. No manual deployment steps required

### Testing Requirements

**Pre-Migration Testing** (before GitHub upload):
- Verify all 19 pages load locally
- Test contact form with Formspree integration
- Verify all images display correctly
- Test responsive design on mobile/tablet/desktop

**Post-Migration Validation** (after GitHub Pages deployment):
- Visual comparison: all 19 pages match original
- Navigation: all menu links work
- Galleries: slideshow and image galleries function
- Embeds: YouTube, TuneIn, Google Calendar load
- Contact form: sends emails successfully
- Mobile: responsive design works correctly

### Maintenance Workflow

**Common Tasks for Site Owner**:

1. **Update Text Content**: Edit HTML file → Save → Commit → Push
2. **Add New Image**: Copy to /images/ → Reference in HTML → Commit → Push
3. **Update Club Officers**: Edit contact.html footer → Commit → Push
4. **Add Event to Calendar**: Update Google Calendar directly (no code change)
5. **Fix Typo**: Use VS Code search (Ctrl+F) → Edit → Commit → Push

**Git Workflow for Bob**:
```bash
# Make changes in VS Code
# Stage changes: Click Source Control icon → + button
# Commit: Enter message → Click ✓
# Push: Click "Sync Changes" button
# Wait 1-2 minutes for GitHub Pages rebuild
```

## Governance

### Amendment Process

This constitution may be amended when:
1. Migration goals change (e.g., budget allocated for paid services)
2. Technical constraints change (e.g., GitHub Pages adds new features)
3. Site owner requirements evolve (e.g., needs dynamic features)

Amendments require:
- Documentation of change rationale
- Impact analysis on existing migration work
- Update to all dependent templates and documentation
- Version increment per semantic versioning

### Versioning Policy

Constitution versions follow semantic versioning (MAJOR.MINOR.PATCH):

- **MAJOR**: Backward-incompatible changes (e.g., abandoning GitHub Pages for different platform)
- **MINOR**: New principles or constraints added (e.g., adding security requirements)
- **PATCH**: Clarifications, typo fixes, wording improvements

### Compliance Review

All migration tasks and implementation decisions MUST be validated against this constitution:

1. **Specification Phase** (/speckit.specify): User scenarios must preserve UI/UX
2. **Planning Phase** (/speckit.plan): Technical approach must be static-first, zero-cost
3. **Task Generation** (/speckit.tasks): Tasks must minimize file changes
4. **Implementation** (/speckit.implement): Code changes must maintain user experience

**Violation Handling**:
- Any violation of NON-NEGOTIABLE principles requires stopping work and revising approach
- Violations of other principles must be documented with justification in Complexity Tracking table
- If simpler alternative exists that complies with constitution, it must be chosen

### Authority & Scope

This constitution supersedes all other development practices for the Parsons Ham Radio Club website migration project. When conflicts arise between this constitution and external guidance (tool documentation, best practices, etc.), this constitution takes precedence.

**Guidance Files**: For detailed runtime development guidance, refer to documentation in `specs/` directory after migration planning is complete.

**Version**: 1.0.0 | **Ratified**: 2025-10-30 | **Last Amended**: 2025-10-30
